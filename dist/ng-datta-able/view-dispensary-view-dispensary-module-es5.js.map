{"version":3,"sources":["src/app/demo/dispensaries/view-dispensary/view-dispensary.component.html","src/app/demo/dispensaries/view-dispensary/view-dispensary-routing.module.ts","src/app/demo/dispensaries/view-dispensary/view-dispensary.component.scss","src/app/demo/dispensaries/view-dispensary/view-dispensary.component.ts","src/app/demo/dispensaries/view-dispensary/view-dispensary.module.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"row\\\">\\n    <div class=\\\"col-xl-12\\\">\\n        <app-card cardTitle=\\\"Dispensary Profile\\\" [options]=\\\"false\\\">\\n            <div class=\\\"row\\\" *ngIf=\\\"dispensaryProfile\\\">\\n                <div class=\\\"col-md-6\\\" >\\n                    <h4 class=\\\"mb-4 blue\\\" id=\\\"basic-info-heading\\\">Profile Image</h4>\\n                    <img *ngIf=\\\"dispensaryProfile.image !== null\\\" class=\\\"img-fluid img-thumbnail img-rounded\\\" src=\\\"{{dispensaryProfile.image}}\\\" alt=\\\"Dispensary profile image\\\" width=\\\"250\\\" height=\\\"250\\\">\\n                    <img *ngIf=\\\"dispensaryProfile.image === null\\\" class=\\\"img-fluid img-thumbnail img-rounded\\\" src=\\\"assets/images/admin-user-demo.png\\\" alt=\\\"Dispensary profile image\\\" width=\\\"250\\\" height=\\\"250\\\">\\n                \\n                    <div class=\\\"map-container\\\">\\n                        <h4 class=\\\"mb-4\\\" id=\\\"basic-info-heading\\\">Map Location</h4>\\n                        <agm-map \\n                            [latitude]=\\\"mapLatitude\\\" \\n                            [longitude]=\\\"mapLongitude\\\" \\n                            [zoom]=\\\"zoom\\\" >\\n                            <agm-marker \\n                                [latitude]=\\\"mapLatitude\\\" \\n                                [longitude]=\\\"mapLongitude\\\"\\n                                [markerDraggable]=\\\"false\\\"\\n                            >\\n                            </agm-marker>\\n                        </agm-map>\\n                    </div>\\n                </div> \\n                <div class=\\\"col-md-6 table-responsive-sm\\\">\\n                    <h4 class=\\\"mb-4\\\" id=\\\"basic-info-heading\\\">Basic Information</h4>\\n                    <table class=\\\"table table-borderless\\\">\\n                        <tbody>\\n                            <tr>\\n                                <td><b>Title:</b></td>\\n                                <td>{{dispensaryProfile.name}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Longitude:</b></td>\\n                                <td>{{dispensaryProfile.longitude}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Latitude:</b></td>\\n                                <td>{{dispensaryProfile.latitude}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Phone:</b></td>\\n                                <td>{{dispensaryProfile.phone}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Status:</b></td>\\n                                <td>\\n                                    <span *ngIf=\\\"dispensaryProfile.status !== '1'\\\" class=\\\"badge badge-success\\\">Active</span>\\n                                    <span *ngIf=\\\"dispensaryProfile.status === '1'\\\" class=\\\"badge badge-danger\\\">Disabled</span>\\n                                </td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Featured:</b></td>\\n                                <td>\\n                                    <span *ngIf=\\\"dispensaryProfile.featured === 'true'\\\" class=\\\"badge badge-success\\\">Featured</span>\\n                                    <span *ngIf=\\\"dispensaryProfile.featured === 'false'\\\" class=\\\"badge badge-primary\\\">Normal</span>\\n                                </td>\\n                            </tr>\\n                            <tr>\\n                                <td>Working Days:</td>\\n                                <td>{{dispensaryProfile.timmings.open_day}} - {{dispensaryProfile.timmings.close_day}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td>Working Hours:</td>\\n                                <td>{{dispensaryProfile.timmings.open_time}} - {{dispensaryProfile.timmings.close_time}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Address:</b></td>\\n                                <td>{{dispensaryProfile.address}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Deal:</b></td>\\n                                <td>{{dispensaryProfile.deal}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Joining Date:</b></td>\\n                                <td>{{dispensaryProfile.created}}</td>\\n                            </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n                <div class=\\\"col-md-12 mt-3 text-right\\\" id=\\\"update-button\\\">\\n                    <button class=\\\"btn btn-primary btn-sm\\\" (click)=\\\"updateDispensary(dispensaryProfile.id)\\\">Update</button>\\n                </div>\\n            </div>\\n            <!-- <div class=\\\"row text-center\\\" *ngIf=\\\"!dispensaryProfile\\\">\\n                <h1>No Dispensary Available</h1>\\n            </div> -->\\n        </app-card>\\n    </div>\\n</div>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ViewDispensaryComponent } from './view-dispensary.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ViewDispensaryComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ViewDispensaryRoutingModule { }\r\n","export default \"agm-map {\\n  height: 250px;\\n  width: 250px; }\\n\\n.map-container {\\n  margin-top: 5%; }\\n\\n#basic-info-heading {\\n  color: #3F4D67; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy94MjMvRG9jdW1lbnRzL0dpdEh1Yi9kYmMtYnVkc2JhbmstYW5ndWxhci9zcmMvYXBwL2RlbW8vZGlzcGVuc2FyaWVzL3ZpZXctZGlzcGVuc2FyeS92aWV3LWRpc3BlbnNhcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFhO0VBQ2IsWUFBWSxFQUFBOztBQUdoQjtFQUNJLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxjQUFjLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9kZW1vL2Rpc3BlbnNhcmllcy92aWV3LWRpc3BlbnNhcnkvdmlldy1kaXNwZW5zYXJ5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYWdtLW1hcCB7XHJcbiAgICBoZWlnaHQ6IDI1MHB4O1xyXG4gICAgd2lkdGg6IDI1MHB4O1xyXG59XHJcblxyXG4ubWFwLWNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW4tdG9wOiA1JTtcclxufVxyXG5cclxuI2Jhc2ljLWluZm8taGVhZGluZyB7XHJcbiAgICBjb2xvcjogIzNGNEQ2NztcclxufSJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport { DispensariesService } from '../../../services/dispensaries/dispensaries.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport swal from 'sweetalert2';\nimport { MapsAPILoader } from '@agm/core';\nimport googlemaps from 'googlemaps';\n\n@Component({\n  selector: 'app-view-dispensary',\n  templateUrl: './view-dispensary.component.html',\n  styleUrls: ['./view-dispensary.component.scss']\n})\nexport class ViewDispensaryComponent implements OnInit {\n\n  public dispensaryProfile  : any;\n  public mapLatitude        : number;\n  public mapLongitude       : number;\n  public zoom               : number;\n  public mapAddress         : string;\n  private geoCoder          : any;\n\n  constructor(\n    private router: Router, \n    private dispensary: DispensariesService, \n    private currentRoute: ActivatedRoute,\n    private mapsAPILoader: MapsAPILoader, \n    private ngZone: NgZone) { }\n\n  ngOnInit() {\n    this.currentRoute.params.subscribe(params => { \n      if (params.id !== 'profile'){\n        this.dispensary.getDispensaryById(params.id).then(response => { \n          if (response['status'] === 200){\n            if (response['data'].length > 0){\n              this.dispensaryProfile = response['data'][0];\n              this.dispensaryProfile['created'] = this.formatDate(this.dispensaryProfile.created);\n              this.setCurrentLocation(this.dispensaryProfile);\n            }\n          }else{\n            console.log(response);\n            swal.fire('Error', 'Internal Server Error', 'error');\n          }\n        });\n      }else{ \n        this.dispensary.getAdminDispensary().then( response => {\n          if (response['status'] === 200){\n            if (response['data'].length > 0){\n              this.dispensaryProfile = response['data'][0];\n              this.dispensaryProfile['created'] = this.formatDate(this.dispensaryProfile.created);\n              this.setCurrentLocation(this.dispensaryProfile);\n            }\n          }else{\n            console.log(response);\n            // swal.fire('Error', 'No Dispensary Added Yet', 'error');\n          }\n        })\n      }\n    });\n\n    this.mapsAPILoader.load().then(() => {\n      this.geoCoder = new google.maps.Geocoder;\n    })\n  }\n\n  formatDate(date: any) {\n    var newDate = new Date(date);\n    let month = \"\" + (newDate.getMonth() + 1);\n    let day =   \"\" + newDate.getDate();\n    let year = newDate.getFullYear(); \n    \n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n  \n    return [year, month, day].join(\"-\");\n  }\n\n  private setCurrentLocation(locationToSet: any) {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        this.mapLatitude = locationToSet.latitude;\n        this.mapLongitude = locationToSet.longitude;\n        this.zoom = 8;\n        this.getAddress(this.mapLatitude, this.mapLongitude);\n      });\n    }\n  }\n \n  getAddress(latitude: any, longitude: any) {\n    this.geoCoder.geocode({ 'location': { lat: latitude, lng: longitude } }, (results, status) => {\n      console.log(results);\n      console.log(status);\n      if (status === 'OK') {\n        if (results[0]) {\n          this.zoom = 12;\n          this.mapAddress = results[0].formatted_address;\n        } else {\n          window.alert('No results found');\n        }\n      } else {\n        window.alert('Geocoder failed due to: ' + status);\n      }\n \n    });\n  }\n\n  updateDispensary(userId: any) {\n    this.router.navigateByUrl(`admin/dispensary/update/${userId}`);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ViewDispensaryComponent } from './view-dispensary.component';\nimport { ViewDispensaryRoutingModule } from './view-dispensary-routing.module';\nimport { SharedModule } from '../../../theme/shared/shared.module';\nimport { DataTablesModule } from 'angular-datatables';\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\nimport { AgmCoreModule } from '@agm/core';\n\n@NgModule({\n  declarations: [ViewDispensaryComponent],\n  imports: [\n    CommonModule,\n    ViewDispensaryRoutingModule,\n    SharedModule,\n    DataTablesModule,\n    SweetAlert2Module,\n    AgmCoreModule,\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyAcARFFtUPK8IeCXsVmh5I7CIw4hnxejqU',\n      libraries: ['places']\n    })\n  ]\n})\nexport class ViewDispensaryModule { }\n"],"sourceRoot":"webpack:///","file":"view-dispensary-view-dispensary-module-es5.js"}