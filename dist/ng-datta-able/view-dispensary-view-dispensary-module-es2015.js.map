{"version":3,"sources":["./src/app/demo/dispensaries/view-dispensary/view-dispensary.component.html","./src/app/demo/dispensaries/view-dispensary/view-dispensary-routing.module.ts","./src/app/demo/dispensaries/view-dispensary/view-dispensary.component.scss","./src/app/demo/dispensaries/view-dispensary/view-dispensary.component.ts","./src/app/demo/dispensaries/view-dispensary/view-dispensary.module.ts"],"names":[],"mappings":"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","file":"view-dispensary-view-dispensary-module-es2015.js","sourcesContent":["export default \"<div class=\\\"row\\\">\\n    <div class=\\\"col-xl-12\\\">\\n        <app-card cardTitle=\\\"Dispensary Profile\\\" [options]=\\\"false\\\">\\n            <div class=\\\"row\\\" *ngIf=\\\"dispensaryProfile\\\">\\n                <div class=\\\"col-md-6\\\" >\\n                    <h4 class=\\\"mb-4 blue\\\" id=\\\"basic-info-heading\\\">Profile Image</h4>\\n                    <img *ngIf=\\\"dispensaryProfile.image !== null\\\" class=\\\"img-fluid img-thumbnail img-rounded\\\" src=\\\"{{dispensaryProfile.image}}\\\" alt=\\\"Dispensary profile image\\\" width=\\\"250\\\" height=\\\"250\\\">\\n                    <img *ngIf=\\\"dispensaryProfile.image === null\\\" class=\\\"img-fluid img-thumbnail img-rounded\\\" src=\\\"assets/images/admin-user-demo.png\\\" alt=\\\"Dispensary profile image\\\" width=\\\"250\\\" height=\\\"250\\\">\\n                \\n                    <div class=\\\"map-container\\\">\\n                        <h4 class=\\\"mb-4\\\" id=\\\"basic-info-heading\\\">Map Location</h4>\\n                        <agm-map \\n                            [latitude]=\\\"mapLatitude\\\" \\n                            [longitude]=\\\"mapLongitude\\\" \\n                            [zoom]=\\\"zoom\\\" >\\n                            <agm-marker \\n                                [latitude]=\\\"mapLatitude\\\" \\n                                [longitude]=\\\"mapLongitude\\\"\\n                                [markerDraggable]=\\\"false\\\"\\n                            >\\n                            </agm-marker>\\n                        </agm-map>\\n                    </div>\\n                </div> \\n                <div class=\\\"col-md-6 table-responsive-sm\\\">\\n                    <h4 class=\\\"mb-4\\\" id=\\\"basic-info-heading\\\">Basic Information</h4>\\n                    <table class=\\\"table table-borderless\\\">\\n                        <tbody>\\n                            <tr>\\n                                <td><b>Title:</b></td>\\n                                <td>{{dispensaryProfile.name}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Longitude:</b></td>\\n                                <td>{{dispensaryProfile.longitude}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Latitude:</b></td>\\n                                <td>{{dispensaryProfile.latitude}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Phone:</b></td>\\n                                <td>{{dispensaryProfile.phone}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Status:</b></td>\\n                                <td>\\n                                    <span *ngIf=\\\"dispensaryProfile.status !== '1'\\\" class=\\\"badge badge-success\\\">Active</span>\\n                                    <span *ngIf=\\\"dispensaryProfile.status === '1'\\\" class=\\\"badge badge-danger\\\">Disabled</span>\\n                                </td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Featured:</b></td>\\n                                <td>\\n                                    <span *ngIf=\\\"dispensaryProfile.featured === 'true'\\\" class=\\\"badge badge-success\\\">Featured</span>\\n                                    <span *ngIf=\\\"dispensaryProfile.featured === 'false'\\\" class=\\\"badge badge-primary\\\">Normal</span>\\n                                </td>\\n                            </tr>\\n                            <tr>\\n                                <td>Working Days:</td>\\n                                <td>{{dispensaryProfile.timmings.open_day}} - {{dispensaryProfile.timmings.close_day}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td>Working Hours:</td>\\n                                <td>{{dispensaryProfile.timmings.open_time}} - {{dispensaryProfile.timmings.close_time}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Address:</b></td>\\n                                <td>{{dispensaryProfile.address}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Deal:</b></td>\\n                                <td>{{dispensaryProfile.deal}}</td>\\n                            </tr>\\n                            <tr>\\n                                <td><b>Joining Date:</b></td>\\n                                <td>{{dispensaryProfile.created}}</td>\\n                            </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n                <div class=\\\"col-md-12 mt-3 text-right\\\" id=\\\"update-button\\\">\\n                    <button class=\\\"btn btn-primary btn-sm\\\" (click)=\\\"updateDispensary(dispensaryProfile.id)\\\">Update</button>\\n                </div>\\n            </div>\\n            <!-- <div class=\\\"row text-center\\\" *ngIf=\\\"!dispensaryProfile\\\">\\n                <h1>No Dispensary Available</h1>\\n            </div> -->\\n        </app-card>\\n    </div>\\n</div>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ViewDispensaryComponent } from './view-dispensary.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ViewDispensaryComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ViewDispensaryRoutingModule { }\r\n","export default \"agm-map {\\n  height: 250px;\\n  width: 250px; }\\n\\n.map-container {\\n  margin-top: 5%; }\\n\\n#basic-info-heading {\\n  color: #3F4D67; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy94MjMvRG9jdW1lbnRzL0dpdEh1Yi9kYmMtYnVkc2JhbmstYW5ndWxhci9zcmMvYXBwL2RlbW8vZGlzcGVuc2FyaWVzL3ZpZXctZGlzcGVuc2FyeS92aWV3LWRpc3BlbnNhcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFhO0VBQ2IsWUFBWSxFQUFBOztBQUdoQjtFQUNJLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxjQUFjLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9kZW1vL2Rpc3BlbnNhcmllcy92aWV3LWRpc3BlbnNhcnkvdmlldy1kaXNwZW5zYXJ5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYWdtLW1hcCB7XHJcbiAgICBoZWlnaHQ6IDI1MHB4O1xyXG4gICAgd2lkdGg6IDI1MHB4O1xyXG59XHJcblxyXG4ubWFwLWNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW4tdG9wOiA1JTtcclxufVxyXG5cclxuI2Jhc2ljLWluZm8taGVhZGluZyB7XHJcbiAgICBjb2xvcjogIzNGNEQ2NztcclxufSJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport { DispensariesService } from '../../../services/dispensaries/dispensaries.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport swal from 'sweetalert2';\nimport { MapsAPILoader } from '@agm/core';\nimport googlemaps from 'googlemaps';\n\n@Component({\n  selector: 'app-view-dispensary',\n  templateUrl: './view-dispensary.component.html',\n  styleUrls: ['./view-dispensary.component.scss']\n})\nexport class ViewDispensaryComponent implements OnInit {\n\n  public dispensaryProfile  : any;\n  public mapLatitude        : number;\n  public mapLongitude       : number;\n  public zoom               : number;\n  public mapAddress         : string;\n  private geoCoder          : any;\n\n  constructor(\n    private router: Router, \n    private dispensary: DispensariesService, \n    private currentRoute: ActivatedRoute,\n    private mapsAPILoader: MapsAPILoader, \n    private ngZone: NgZone) { }\n\n  ngOnInit() {\n    this.currentRoute.params.subscribe(params => { \n      if (params.id !== 'profile'){\n        this.dispensary.getDispensaryById(params.id).then(response => { \n          if (response['status'] === 200){\n            if (response['data'].length > 0){\n              this.dispensaryProfile = response['data'][0];\n              this.dispensaryProfile['created'] = this.formatDate(this.dispensaryProfile.created);\n              this.setCurrentLocation(this.dispensaryProfile);\n            }\n          }else{\n            console.log(response);\n            swal.fire('Error', 'Internal Server Error', 'error');\n          }\n        });\n      }else{ \n        this.dispensary.getAdminDispensary().then( response => {\n          if (response['status'] === 200){\n            if (response['data'].length > 0){\n              this.dispensaryProfile = response['data'][0];\n              this.dispensaryProfile['created'] = this.formatDate(this.dispensaryProfile.created);\n              this.setCurrentLocation(this.dispensaryProfile);\n            }\n          }else{\n            console.log(response);\n            // swal.fire('Error', 'No Dispensary Added Yet', 'error');\n          }\n        })\n      }\n    });\n\n    this.mapsAPILoader.load().then(() => {\n      this.geoCoder = new google.maps.Geocoder;\n    })\n  }\n\n  formatDate(date: any) {\n    var newDate = new Date(date);\n    let month = \"\" + (newDate.getMonth() + 1);\n    let day =   \"\" + newDate.getDate();\n    let year = newDate.getFullYear(); \n    \n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n  \n    return [year, month, day].join(\"-\");\n  }\n\n  private setCurrentLocation(locationToSet: any) {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        this.mapLatitude = locationToSet.latitude;\n        this.mapLongitude = locationToSet.longitude;\n        this.zoom = 8;\n        this.getAddress(this.mapLatitude, this.mapLongitude);\n      });\n    }\n  }\n \n  getAddress(latitude: any, longitude: any) {\n    this.geoCoder.geocode({ 'location': { lat: latitude, lng: longitude } }, (results, status) => {\n      console.log(results);\n      console.log(status);\n      if (status === 'OK') {\n        if (results[0]) {\n          this.zoom = 12;\n          this.mapAddress = results[0].formatted_address;\n        } else {\n          window.alert('No results found');\n        }\n      } else {\n        window.alert('Geocoder failed due to: ' + status);\n      }\n \n    });\n  }\n\n  updateDispensary(userId: any) {\n    this.router.navigateByUrl(`admin/dispensary/update/${userId}`);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ViewDispensaryComponent } from './view-dispensary.component';\nimport { ViewDispensaryRoutingModule } from './view-dispensary-routing.module';\nimport { SharedModule } from '../../../theme/shared/shared.module';\nimport { DataTablesModule } from 'angular-datatables';\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\nimport { AgmCoreModule } from '@agm/core';\n\n@NgModule({\n  declarations: [ViewDispensaryComponent],\n  imports: [\n    CommonModule,\n    ViewDispensaryRoutingModule,\n    SharedModule,\n    DataTablesModule,\n    SweetAlert2Module,\n    AgmCoreModule,\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyAcARFFtUPK8IeCXsVmh5I7CIw4hnxejqU',\n      libraries: ['places']\n    })\n  ]\n})\nexport class ViewDispensaryModule { }\n"],"sourceRoot":"webpack:///"}